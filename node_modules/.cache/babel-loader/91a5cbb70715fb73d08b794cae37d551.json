{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { createElement as _createElement } from \"react\";\n\nvar _jsxFileName = \"/Users/shixt/Documents/user/\\u6700\\u7EC8\\u9879\\u76EE/tasty-admin/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './App.css';\n/* router */\n\nimport { BrowserRouter as Router, Switch, useHistory } from 'react-router-dom';\nimport PrivateRoute from './Common/PrivateRoute';\nimport { routerConfig } from './Router/index';\nimport _ from 'lodash';\nimport { getStorage } from './Common/utils';\n\nfunction App() {\n  _s();\n\n  const history = useHistory();\n  let user = getStorage('user');\n  console.log(user);\n\n  if (user && user == 'visitor') {\n    history.push('/admin/restaurant');\n  }\n\n  function renderRouter() {\n    return _.map(routerConfig, item => {\n      return /*#__PURE__*/_createElement(PrivateRoute, { ...item,\n        key: Math.random(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 14\n        },\n        __self: this\n      });\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Switch, {\n        children: renderRouter()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"9cZfZ04734qoCGIctmKX7+sX6eU=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/shixt/Documents/user/最终项目/tasty-admin/src/App.js"],"names":["React","BrowserRouter","Router","Switch","useHistory","PrivateRoute","routerConfig","_","getStorage","App","history","user","console","log","push","renderRouter","map","item","Math","random"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA;;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAiCC,MAAjC,EAAyCC,UAAzC,QAA2D,kBAA3D;AAEA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,SAAQC,YAAR,QAA2B,gBAA3B;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,SAAQC,UAAR,QAAyB,gBAAzB;;AAEA,SAASC,GAAT,GAAgB;AAAA;;AACd,QAAMC,OAAO,GAACN,UAAU,EAAxB;AACA,MAAIO,IAAI,GAACH,UAAU,CAAC,MAAD,CAAnB;AACAI,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,MAAGA,IAAI,IAAEA,IAAI,IAAE,SAAf,EAAyB;AACvBD,IAAAA,OAAO,CAACI,IAAR,CAAa,mBAAb;AACD;;AACD,WAASC,YAAT,GAAwB;AACtB,WAAOR,CAAC,CAACS,GAAF,CAAMV,YAAN,EAAoBW,IAAD,IAAQ;AAChC,0BAAO,eAAC,YAAD,OAAmBA,IAAnB;AAA0B,QAAA,GAAG,EAAGC,IAAI,CAACC,MAAL,EAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFM,CAAP;AAGD;;AACD,sBACE,QAAC,MAAD;AAAA,2BACE;AAAA,6BACE,QAAC,MAAD;AAAA,kBAOGJ,YAAY;AAPf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAeD;;GA3BQN,G;UACOL,U;;;KADPK,G;AA6BT,eAAeA,GAAf","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n/* router */\r\nimport { BrowserRouter as Router,Switch, useHistory } from 'react-router-dom';\r\n\r\nimport PrivateRoute from './Common/PrivateRoute'\r\nimport {routerConfig} from './Router/index'\r\nimport _ from 'lodash'\r\n\r\nimport {getStorage} from './Common/utils'\r\n\r\nfunction App () {\r\n  const history=useHistory()\r\n  let user=getStorage('user')\r\n  console.log(user)\r\n  if(user&&user=='visitor'){\r\n    history.push('/admin/restaurant')\r\n  }\r\n  function renderRouter (){\r\n    return _.map(routerConfig,(item)=>{\r\n      return <PrivateRoute { ...item } key={ Math.random() }></PrivateRoute>;\r\n    });\r\n  }\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch >\r\n          {/* <Route path='/admin' >\r\n            <Admin></Admin>\r\n          </Route>\r\n          <Route path='/'>\r\n            <Redirect to='/admin/restaurant'></Redirect>\r\n          </Route> */}\r\n          {renderRouter()}\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}